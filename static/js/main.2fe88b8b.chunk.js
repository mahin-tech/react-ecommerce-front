(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{476:function(e,t,c){},544:function(e,t){},546:function(e,t){},588:function(e,t){},589:function(e,t){},885:function(e,t,c){},887:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(0),r=c(45),s=c.n(r),o=(c(476),c(13)),i=c.n(o),l=c(26),u=c(68),j=c(30),d=(c(477),c(19)),b=c(902),h=c(23),p=c(29),O=c.p+"static/media/laptop.db0a6ff4.png",m=function(e){e.children;var t=Object(h.b)(),c=Object(h.c)((function(e){return Object(d.a)({},e)})),a=c.drawer,r=c.cart,s={width:"100%",height:"50px",objectFit:"cover"};return Object(n.jsxs)(b.a,{className:"text-center",title:"Cart / ".concat(r.length," Product"),placement:"right",closable:!1,onClose:function(){t({type:"SET_VISIBLE",payload:!1})},visible:a,children:[r.map((function(e){return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:e.images[0]?Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:e.images[0].url,style:s}),Object(n.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{src:O,style:s}),Object(n.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]})})},e._id)})),Object(n.jsx)(p.b,{to:"/cart",children:Object(n.jsx)("button",{onClick:function(){return t({type:"SET_VISIBLE",payload:!1})},className:"text-center btn btn-primary btn-raised btn-block",children:"Go To Cart"})})]})},x=c(12),f=c(898),g=c(904),v=c(907),y=c(908),N=c(909),S=c(910),k=c(911),w=c(912),C=c(913),_=c(183),E=c(906),D=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return Object(d.a)({},e)})).search.text,c=Object(u.f)(),a=function(e){e.preventDefault(),c.push("/shop?".concat(t))};return Object(n.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:a,children:[Object(n.jsx)("input",{onChange:function(t){e({type:"SEARCH_QUERY",payload:{text:t.target.value}})},type:"search",value:t,className:"form-control mr-sm-2",placeholder:"Search"}),Object(n.jsx)(E.a,{onClick:a,style:{cursor:"pointer"}})]})},T=f.a.SubMenu,P=f.a.Item,A=function(){var e=Object(a.useState)("home"),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(h.b)(),o=Object(u.f)(),i=Object(h.c)((function(e){return Object(d.a)({},e)})),l=i.user,j=i.cart;return Object(n.jsxs)(f.a,{onClick:function(e){r(e.key)},selectedKeys:[c],mode:"horizontal",children:[Object(n.jsx)(P,{icon:Object(n.jsx)(v.a,{}),children:Object(n.jsx)(p.b,{to:"/",children:"Home"})},"home"),Object(n.jsx)(P,{icon:Object(n.jsx)(y.a,{}),children:Object(n.jsx)(p.b,{to:"/shop",children:"Shop"})},"shop"),Object(n.jsx)(P,{icon:Object(n.jsx)(N.a,{}),children:Object(n.jsx)(p.b,{to:"/cart",children:Object(n.jsx)(g.a,{count:j.length,offset:[9,0],children:"Cart"})})},"cart"),!l&&Object(n.jsx)(P,{icon:Object(n.jsx)(S.a,{}),className:"float-right",children:Object(n.jsx)(p.b,{to:"/register",children:"Register"})},"register"),!l&&Object(n.jsx)(P,{icon:Object(n.jsx)(k.a,{}),className:"float-right",children:Object(n.jsx)(p.b,{to:"/login",children:"Login"})},"login"),l&&Object(n.jsxs)(T,{icon:Object(n.jsx)(w.a,{}),title:l.email&&l.email.split("@")[0],className:"float-right",children:[l&&"subscriber"===l.role&&Object(n.jsx)(P,{children:Object(n.jsx)(p.b,{to:"/user/history",children:"Dashboard"})}),l&&"admin"===l.role&&Object(n.jsx)(P,{children:Object(n.jsx)(p.b,{to:"/admin/dashboard",children:"Dashboard"})}),Object(n.jsx)(P,{icon:Object(n.jsx)(C.a,{}),onClick:function(){_.a.auth().signOut(),s({type:"LOGOUT",payload:null}),o.push("/login")},children:"Logout"})]}),Object(n.jsx)("span",{className:"float-right p-1",children:Object(n.jsx)(D,{})})]})},I=c(263),R=function(){var e=Object(a.useState)(5),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(u.f)();return Object(a.useEffect)((function(){var e=setInterval((function(){r((function(e){return--e}))}),1e3);return 0===c&&s.push("/"),function(){return clearInterval(e)}}),[c,s]),Object(n.jsx)("div",{className:"container p-5 text-center",children:Object(n.jsxs)("p",{children:["Redirecting you in ",c," seconds"]})})},L=function(e){e.children;var t=Object(I.a)(e,["children"]),c=Object(h.c)((function(e){return Object(d.a)({},e)})).user;return c&&c.token?Object(n.jsx)(u.a,Object(d.a)({},t)):Object(n.jsx)(R,{})},U=c(33),B=c.n(U),F=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){e.children;var t=Object(I.a)(e,["children"]),c=Object(h.c)((function(e){return Object(d.a)({},e)})).user,r=Object(a.useState)(!1),s=Object(x.a)(r,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){c&&c.token&&G(c.token).then((function(e){console.log("CURRENT ADMIN RES",e),i(!0)})).catch((function(e){console.log("ADMIN ROUTE ERR",e),i(!1)}))}),[c]),o?Object(n.jsx)(u.a,Object(d.a)({},t)):Object(n.jsx)(R,{})},z=c(434),J=c.n(z),Q=function(e){var t=e.text;return Object(n.jsx)(J.a,{options:{strings:t,autoStart:!0,loop:!0}})},W=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Product",t),e.next=3,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product"),t,{headers:{authtoken:c}});case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product/").concat(t),{headers:{authtoken:c}});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product/").concat(t),c,{headers:{authtoken:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/products"),{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product/star/").concat(t),{star:c},{headers:{authtoken:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=c(899),ne=c(180),ae=c(914),re=c(172),se=c.n(re),oe=function(e){if(e&&e.ratings){var t=e&&e.ratings,c=[],a=t.length;t.map((function(e){return c.push(e.star)}));var r=5*c.reduce((function(e,t){return e+t}),0)/(5*a);return Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)(se.a,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",editing:!1,rating:r}),"(",e.ratings.length,")"]})})}},ie=c(181),le=c.n(ie),ue=ce.a.Meta,je=function(e){var t=e.product,c=Object(a.useState)("Click to add"),r=Object(x.a)(c,2),s=r[0],o=r[1],i=Object(h.c)((function(e){return Object(d.a)({},e)})),l=(i.user,i.cart,Object(h.b)()),u=t.images,j=t.title,b=t.description,m=t.slug,f=t.price;return Object(n.jsxs)("div",{children:[t&&t.ratings&&t.ratings.length>0?oe(t):Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),Object(n.jsx)(ce.a,{cover:Object(n.jsx)("img",{src:u&&u.length?u[0].url:O,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(n.jsxs)(p.b,{to:"/product/".concat(m),children:[Object(n.jsx)(ae.a,{className:"text-warning"})," ",Object(n.jsx)("br",{})," View Product"]}),Object(n.jsx)(ne.a,{title:s,children:Object(n.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(d.a)(Object(d.a)({},t),{},{count:1}));var c=le.a.uniqWith(e,le.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),o("Added"),l({type:"ADD_TO_CART",payload:c}),l({type:"SET_VISIBLE",payload:!0})}},disabled:t.quantity<1,children:[Object(n.jsx)(N.a,{className:"text-danger"})," ",Object(n.jsx)("br",{}),t.quantity<1?"Out of stock":"Add to cart"]})})],children:Object(n.jsx)(ue,{title:"".concat(j," - $").concat(f),description:"".concat(b&&b.substring(0,40),"...")})})]})},de=c(896),be=function(e){var t=e.count;return Object(n.jsx)("div",{className:"row pb-3",children:function(){for(var e=[],c=0;c<t;c++)e.push(Object(n.jsx)(ce.a,{className:"col-md-4",children:Object(n.jsx)(de.a,{active:!0})},c))}()})},he=c(897),pe=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(0),j=Object(x.a)(u,2),d=j[0],b=j[1],h=Object(a.useState)(1),p=Object(x.a)(h,2),O=p[0],m=p[1];Object(a.useEffect)((function(){f()}),[O]),Object(a.useEffect)((function(){X().then((function(e){return b(e.data)}))}),[]);var f=function(){l(!0),K("createdAt","desc",O).then((function(e){r(e.data),l(!1)}))};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"container",children:i?Object(n.jsx)(be,{count:3}):Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(je,{product:e})})}))})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(n.jsx)(he.a,{current:O,total:d/3*10,onChange:function(e){return m(e)}})})})]})},Oe=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(0),j=Object(x.a)(u,2),d=j[0],b=j[1],h=Object(a.useState)(1),p=Object(x.a)(h,2),O=p[0],m=p[1];Object(a.useEffect)((function(){f()}),[O]),Object(a.useEffect)((function(){X().then((function(e){return b(e.data)}))}),[]);var f=function(){l(!0),K("createdAt","desc",O).then((function(e){r(e.data),l(!1)}))};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"container",children:i?Object(n.jsx)(be,{count:3}):Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(je,{product:e})})}))})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(n.jsx)(he.a,{current:O,total:d/3*10,onChange:function(e){return m(e)}})})})]})},me=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("".concat("https://fast-eyrie-49517.herokuapp.com/api","/category/").concat(t),{headers:{authtoken:c}});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/category/").concat(t),c,{headers:{authtoken:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/category"),t,{headers:{authtoken:c}});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ye=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(!0),me().then((function(e){r(e.data),l(!1)}))}),[]);return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):c.map((function(e){return Object(n.jsx)("div",{className:"btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:Object(n.jsx)(p.b,{to:"/category/".concat(e.slug),children:e.name})},e._id)}))})})},Se=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/subs"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/sub/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("".concat("https://fast-eyrie-49517.herokuapp.com/api","/sub/").concat(t),{headers:{authtoken:c}});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/sub/").concat(t),c,{headers:{authtoken:n}});case 2:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/sub"),t,{headers:{authtoken:c}});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(!0),Se().then((function(e){r(e.data),l(!1)}))}),[]);return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):c.map((function(e){return Object(n.jsx)("div",{className:"btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:Object(n.jsx)(p.b,{to:"/sub/".concat(e.slug),children:e.name})},e._id)}))})})},De=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"jumbotron text-danger h1 font-weight-bold text-center",children:Object(n.jsx)(Q,{text:["Latest Products","New Arrivals","Best Sellers"]})}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"New Arrivals"}),Object(n.jsx)(pe,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Best Sellers"}),Object(n.jsx)(Oe,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Categories"}),Object(n.jsx)(Ne,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Sub Categories"}),Object(n.jsx)(Ee,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})};_.a.initializeApp({apiKey:"AIzaSyC1OKADO-GsCn6K3SgkGY4jC_bC66OERmE",authDomain:"ecommerce-19d24.firebaseapp.com",projectId:"ecommerce-19d24",storageBucket:"ecommerce-19d24.appspot.com",messagingSenderId:"1071079575925",appId:"1:1071079575925:web:37ecb9247ce6ae7a66433c"});var Te=_.a.auth(),Pe=new _.a.auth.GoogleAuthProvider,Ae=c(207),Ie=c(915),Re=c(916),Le=function(e){var t=e.history,c=Object(a.useState)("prajapatimahin@gmail.com"),r=Object(x.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)("mahin161997"),b=Object(x.a)(u,2),O=b[0],m=b[1],f=Object(a.useState)(!1),g=Object(x.a)(f,2),v=g[0],y=g[1],N=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){t.location.state||N&&N.token&&t.push("/")}),[N,t]);var S=Object(h.b)(),k=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):t.push("/user/history")},w=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(!0),e.prev=2,e.next=5,Te.signInWithEmailAndPassword(s,O);case 5:return c=e.sent,n=c.user,e.next=9,n.getIdTokenResult();case 9:a=e.sent,console.log("User",a),F(a.token).then((function(e){S({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}}),k(e)})).catch((function(e){return console.log(e)})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),j.b.error(e.t0.message),y(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te.signInWithPopup(Pe).then(function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,F(n.token).then((function(e){S({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:n.token,role:e.data.role,_id:e.data._id}}),k(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),j.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[v?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Login"}),Object(n.jsxs)("form",{onSubmit:w,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},autoFocus:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",value:O,onChange:function(e){return m(e.target.value)}})}),Object(n.jsx)("br",{}),Object(n.jsx)(Ae.a,{onClick:w,type:"primary",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(Ie.a,{}),size:"large",disabled:!s||O.length<6,children:"Login with email/password"}),Object(n.jsx)(Ae.a,{onClick:C,type:"danger",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(Re.a,{}),size:"large",children:"Login with email/password"}),Object(n.jsx)(p.b,{to:"/forgot/password",className:"float-right text-danger",children:"Forgot Password"})]})]})})})},Ue=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(x.a)(c,2),s=r[0],o=r[1],u=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){u&&u.token&&t.push("/")}),[u]);var b=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"https://fast-eyrie-49517.herokuapp.com/register/complete",handleCodeInApp:!0},e.next=4,Te.sendSignInLinkToEmail(s,c);case 4:j.b.success("Email is sent to ".concat(s,". Click the link to complete your registration")),window.localStorage.setItem("emailForRegistartion",s),o("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register"}),Object(n.jsxs)("form",{onSubmit:b,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},autoFocus:!0}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Register"})]})]})})})},Be=function(e){var t=Object(a.useState)(""),c=Object(x.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)(""),b=Object(x.a)(o,2),p=b[0],O=b[1],m=Object(h.b)();Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){s(window.localStorage.getItem("emailForRegistration"))}),[]);var f=Object(u.f)(),g=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r&&p||j.b.error("email and password is required"),p.length<6&&j.b.error("password must be at least 6 characters"),e.prev=3,e.next=6,Te.signInWithEmailLink(r,window.location.href);case 6:if(!e.sent.user.emailVerified){e.next=17;break}return window.localStorage.removeItem("emailForRegistartion"),c=Te.currentUser,e.next=12,c.updatePassword(p);case 12:return e.next=14,c.getIdTokenResult();case 14:n=e.sent,F(n.token).then((function(e){m({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:n.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){return console.log(e)})),f.push("/");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),console.log(e.t0),j.b.error(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register Complete"}),Object(n.jsxs)("form",{onSubmit:g,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return s(e.target.value)}}),Object(n.jsx)("input",{type:"password",className:"form-control",value:p,onChange:function(e){return O(e.target.value)},placeholder:"password",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Complete Registration"})]})]})})})},Fe=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(x.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)(!1),b=Object(x.a)(u,2),p=b[0],O=b[1],m=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){m&&m.token&&t.push("/")}),[m]);var f=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O(!0),c={url:"https://fast-eyrie-49517.herokuapp.com/login",handleCodeInApp:!0},e.next=5,Te.sendPasswordResetEmail(s,c).then((function(){o(""),O(!1),j.b.success("Check your email for password reset link")})).catch((function(e){O(!1),j.b.error(e.message),console.log("ERROR MSG IN FORGOT PASSWORD",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container col-md-6 offset-md-3 p-5",children:[p?Object(n.jsx)("h4",{className:"text-danger",children:"Loading"}):Object(n.jsx)("h4",{children:"Forgot Password"}),Object(n.jsxs)("form",{onSubmit:f,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Type Your email",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-raised",disabled:!s,children:"Submit"})]})]})},Ye=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/user/history",className:"nav-link",children:"History"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/user/password",className:"nav-link",children:"Password"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},Ge=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/cart"),{cart:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),qe=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/address"),{address:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/cart/coupon"),{coupon:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),We=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/order"),{stripeResponse:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/wishlist"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/wishlist/").concat(t),{},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),$e=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/wishlist"),{productId:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/user/cash-order"),{couponApplied:n,COD:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),Xe=c(917),Ze=c(918),et=function(e){var t=e.order,c=e.showStatus,a=void 0===c||c;return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[Object(n.jsxs)("span",{children:["Order Id: ",t.paymentIntent.id]}),Object(n.jsxs)("span",{children:["Amount:"," / ",(t.paymentIntent.amount/=100).toLocaleString("en-US",{style:"currency",currency:"INR"})]})," / ",Object(n.jsxs)("span",{children:["Currency: ",t.paymentIntent.currency.toUpperCase()]})," / ",Object(n.jsxs)("span",{children:["Method: ",t.paymentIntent.payment_method_types[0]]})," / ",Object(n.jsxs)("span",{children:["Payment: ",t.paymentIntent.status.toUpperCase()]})," / ",Object(n.jsxs)("span",{children:["Ordered on: "," / ",new Date(1e3*t.paymentIntent.created).toLocaleString()]})," / ",a&&Object(n.jsxs)("span",{className:"badge bg-primary text-white",children:["STATUS: ",t.orderStatus]})]})})},tt=c(74),ct=c(89),nt=tt.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"center"},author:{fontSize:12,textAlign:"center",marginBottom:40},subtitle:{fontSize:18,margin:12},text:{margin:12,fontSize:14,textAlign:"justify"},image:{marginVertical:15,marginHorizontal:100},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},footer:{padding:"100px",fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"}}),at=function(e){var t=e.order;return Object(n.jsx)(tt.Document,{children:Object(n.jsxs)(tt.Page,{style:nt.body,children:[Object(n.jsxs)(tt.Text,{style:nt.header,fixed:!0,children:["~ ",(new Date).toLocaleString()," ~"]}),Object(n.jsx)(tt.Text,{style:nt.title,children:"Order Invoice"}),Object(n.jsx)(tt.Text,{style:nt.author,children:"React Redux Ecommerce"}),Object(n.jsx)(ct.Table,{children:Object(n.jsxs)(ct.TableHeader,{children:[Object(n.jsx)(ct.TableCell,{children:"Title"}),Object(n.jsx)(ct.TableCell,{children:"Price"}),Object(n.jsx)(ct.TableCell,{children:"Count"}),Object(n.jsx)(ct.TableCell,{children:"Brand"}),Object(n.jsx)(ct.TableCell,{children:"Color"})]})}),Object(n.jsx)(ct.Table,{data:t.products,children:Object(n.jsxs)(ct.TableBody,{children:[Object(n.jsx)(ct.DataTableCell,{getContent:function(e){return e.product.title}}),Object(n.jsx)(ct.DataTableCell,{getContent:function(e){return"$".concat(e.product.price)}}),Object(n.jsx)(ct.DataTableCell,{getContent:function(e){return e.count}}),Object(n.jsx)(ct.DataTableCell,{getContent:function(e){return e.product.brand}}),Object(n.jsx)(ct.DataTableCell,{getContent:function(e){return e.product.color}})]})}),Object(n.jsxs)(tt.Text,{style:nt.text,children:[Object(n.jsxs)(tt.Text,{children:["Date: ",new Date(1e3*t.paymentIntent.created).toLocaleString()]}),"\n",Object(n.jsxs)(tt.Text,{children:["Order Id: ",t.paymentIntent.id]}),"\n",Object(n.jsxs)(tt.Text,{children:["Order Status: ",t.orderStatus]}),"\n",Object(n.jsxs)(tt.Text,{children:["Total Paid: ",t.paymentIntent.amount]})]}),Object(n.jsx)(tt.Text,{style:nt.subtitle,children:"Order Summary"}),Object(n.jsx)(tt.Text,{style:nt.footer,children:"~ Thank you for shopping with us ~"})]})})},rt=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){o()}),[]);var o=function(){return Ve(s.token).then((function(e){r(e.data)}))},i=function(e){return Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Count"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(n.jsx)("tbody",{children:e.products.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.product.title})}),Object(n.jsx)("td",{children:e.product.price}),Object(n.jsx)("td",{children:e.product.brand}),Object(n.jsx)("td",{children:e.color}),Object(n.jsx)("td",{children:e.count}),Object(n.jsx)("td",{children:"Yes"===e.product.shipping?Object(n.jsx)(Xe.a,{style:{color:"green"}}):Object(n.jsx)(Ze.a,{style:{color:"red"}})})]},t)}))})]})},l=function(e){return Object(n.jsx)(tt.PDFDownloadLink,{document:Object(n.jsx)(at,{order:e}),fileName:"invoice.pdf",className:"btn btn-sm btn-block btn-outline-primary",children:"Download PDF"})};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Ye,{})}),Object(n.jsxs)("div",{className:"col text-center",children:[Object(n.jsx)("h4",{children:c.length>0?"User purchase orders":"No purchase orders"}),c.map((function(e,t){return Object(n.jsxs)("div",{className:"m-5 p-3 card",children:[Object(n.jsx)(et,{order:e}),i(e),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:l(e)})})]},t)}))]})]})})},st=function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),u=o[0],d=o[1],b=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),e.next=4,Te.currentUser.updatePassword(c).then((function(){d(!1),r(""),j.b.success("Password updated")})).catch((function(e){d(!1),j.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Ye,{})}),Object(n.jsxs)("div",{className:"col",children:[u?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Password Update"}),Object(n.jsx)("form",{onSubmit:b,children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Your Password"}),Object(n.jsx)("input",{type:"password",onChange:function(e){return r(e.target.value)},className:"form-control",placeholder:"Enter new password",disabled:u,value:c}),Object(n.jsx)("button",{className:"btn btn-primary",disabled:!c||c.length<6||u,children:"Submit"})]})})]})]})})},ot=c(919),it=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){o()}),[]);var o=function(){return He(s.token).then((function(e){r(e.data.wishlist)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Ye,{})}),Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("h4",{children:"Wishlist"}),c.map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[Object(n.jsx)(p.b,{to:"/product/".concat(e.slug),children:e.title}),Object(n.jsx)("span",{className:"btn btn-sm",onClick:function(){return t=e._id,Me(t,s.token).then((function(e){o()}));var t},children:Object(n.jsx)(ot.a,{className:"text-danger"})})]},e._id)}))]})]})})},lt=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(p.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})},ut=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/admin/orders"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.put("".concat("https://fast-eyrie-49517.herokuapp.com/api","/admin/order-status"),{orderId:t,orderStatus:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),dt=function(e){var t=e.orders,c=e.handleStatusChange,a=function(e){return Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Count"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"})]})}),Object(n.jsx)("tbody",{children:e.products.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.product.title})}),Object(n.jsx)("td",{children:e.product.price}),Object(n.jsx)("td",{children:e.product.brand}),Object(n.jsx)("td",{children:e.color}),Object(n.jsx)("td",{children:e.count}),Object(n.jsx)("td",{children:"Yes"===e.product.shipping?Object(n.jsx)(Xe.a,{style:{color:"green"}}):Object(n.jsx)(Ze.a,{style:{color:"red"}})})]},t)}))})]})};return Object(n.jsx)("div",{children:t.map((function(e){return Object(n.jsxs)("div",{className:"row pb-5",children:[Object(n.jsxs)("div",{className:"btn btn-block bg-light",children:[Object(n.jsx)(et,{order:e,showStatus:!1}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-4",children:"Delivery Status"}),Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsxs)("select",{onChange:function(t){return c(e._id,t.target.value)},className:"form-control",defaultValue:e.orderStatus,name:"status",children:[Object(n.jsx)("option",{value:"Not Processed",children:"Not Processed"}),Object(n.jsx)("option",{value:"Cash On Delivery",children:"Cash On Delivery"}),Object(n.jsx)("option",{value:"Processing",children:"Processing"}),Object(n.jsx)("option",{value:"Dispatched",children:"Dispatched"}),Object(n.jsx)("option",{value:"Cancelled",children:"Cancelled"}),Object(n.jsx)("option",{value:"Completed",children:"Completed"})]})})]})]}),a(e)]},e._id)}))})},bt=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){o()}),[]);var o=function(){return ut(s.token).then((function(e){r(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:["Admin Dashboard",Object(n.jsx)(dt,{orders:c,handleStatusChange:function(e,t){jt(e,t,s.token).then((function(e){j.b.success("Status updated"),o()}))}})]})]})})},ht=c(920),pt=function(e){var t=e.handleSubmit,c=e.setName,a=e.name;return Object(n.jsx)("form",{onSubmit:t,children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return c(e.target.value)},value:a,autoFocus:!0,required:!0}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]})})},Ot=function(e){var t=e.keyword,c=e.setKeyword;return Object(n.jsx)("div",{className:"container pt-4 pb-4",children:Object(n.jsx)("input",{type:"search",placeholder:"Filter",value:t,onChange:function(e){e.preventDefault(),c(e.target.value.toLowerCase())},className:"form-control mb-4"})})},mt=function(){var e=Object(h.c)((function(e){return Object(d.a)({},e)})).user,t=Object(a.useState)(""),c=Object(x.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(x.a)(o,2),b=u[0],O=u[1],m=Object(a.useState)([]),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(""),N=Object(x.a)(y,2),S=N[0],k=N[1];Object(a.useEffect)((function(){w()}),[]);var w=function(){me().then((function(e){return v(e.data)}))},C=function(){var t=Object(l.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Deleted?")&&(O(!0),fe(c,e.token).then((function(e){O(!1),j.b.error("Category deleted"),w()})).catch((function(e){O(!1),j.b.error(e.message)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col",children:[b?Object(n.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(n.jsx)("h4",{children:"Create Category"}),Object(n.jsx)(pt,{handleSubmit:function(t){t.preventDefault(),O(!0),ve({name:r},e.token).then((function(e){O(!1),s(""),j.b.success("Category is created"),w()})).catch((function(e){console.log(e),O(!1),j.b.error(e.message)}))},setName:s,name:r}),Object(n.jsx)(Ot,{keyword:S,setKeyword:k}),g.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(S)).map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return C(e.slug)},className:"btn btn-sm float-right",children:Object(n.jsx)(ot.a,{className:"text-danger"})}),Object(n.jsx)(p.b,{to:"/admin/category/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-sm float-right",children:Object(n.jsx)(ht.a,{className:"text-warning"})})})]},e._id)}))]})]})})},xt=function(e){var t=e.history,c=e.match,r=Object(h.c)((function(e){return Object(d.a)({},e)})).user,s=Object(a.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),b=Object(x.a)(u,2),p=b[0],O=b[1];Object(a.useEffect)((function(){m()}),[]);var m=function(){return xe(c.params.slug).then((function(e){return l(e.data.name)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col",children:[p?Object(n.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(n.jsx)("h4",{children:"Update Category"}),Object(n.jsx)(pt,{handleSubmit:function(e){e.preventDefault(),O(!0),ge(c.params.slug,{name:i},r.token).then((function(e){O(!1),l(""),j.b.success("Category is updated"),t.push("/admin/category")})).catch((function(e){console.log(e),O(!1),j.b.error(e.message)}))},name:i,setName:l})]})]})})},ft=function(){var e=Object(h.c)((function(e){return Object(d.a)({},e)})).user,t=Object(a.useState)(""),c=Object(x.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(x.a)(o,2),b=u[0],O=u[1],m=Object(a.useState)([]),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(""),N=Object(x.a)(y,2),S=N[0],k=N[1],w=Object(a.useState)([]),C=Object(x.a)(w,2),_=C[0],E=C[1],D=Object(a.useState)(""),T=Object(x.a)(D,2),P=T[0],A=T[1];Object(a.useEffect)((function(){I(),R()}),[]);var I=function(){return me().then((function(e){return v(e.data)}))},R=function(){return Se().then((function(e){return E(e.data)}))},L=function(){var t=Object(l.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Deleted?")&&(O(!0),we(c,e.token).then((function(e){O(!1),j.b.error("Sub category deleted"),R()})).catch((function(e){O(!1),j.b.error(e.message)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col",children:[b?Object(n.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(n.jsx)("h4",{children:"Create Sub Category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Parent Category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return k(e.target.value)},children:[Object(n.jsx)("option",{children:"Please Select"}),g.length>0&&g.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(n.jsx)(pt,{handleSubmit:function(t){t.preventDefault(),O(!0),_e({name:r,parent:S},e.token).then((function(e){O(!1),s(""),j.b.success("Sub category is created"),R()})).catch((function(e){console.log(e),O(!1),j.b.error(e.message)}))},setName:s,name:r}),Object(n.jsx)(Ot,{keyword:P,setKeyword:A}),Object(n.jsx)("hr",{}),_.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(P)).map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return L(e.slug)},className:"btn btn-sm float-right",children:Object(n.jsx)(ot.a,{className:"text-warning"})}),Object(n.jsx)(p.b,{to:"/admin/sub/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-sm float-right",children:Object(n.jsx)(ht.a,{className:"text-warning"})})})]},e._id)}))]})]})})},gt=function(e){var t=e.match,c=e.history,r=Object(h.c)((function(e){return Object(d.a)({},e)})).user,s=Object(a.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),b=Object(x.a)(u,2),p=b[0],O=b[1],m=Object(a.useState)([]),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(""),N=Object(x.a)(y,2),S=N[0],k=N[1];Object(a.useEffect)((function(){w(),C()}),[]);var w=function(){return me().then((function(e){return v(e.data)}))},C=function(){return ke(t.params.slug).then((function(e){l(e.data.name),k(e.data.parent)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col",children:[p?Object(n.jsx)("h4",{className:"text-danger",children:"loading..."}):Object(n.jsx)("h4",{children:"Update Sub Category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Parent Category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return k(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"Select Category"}),g.length>0&&g.map((function(e){return Object(n.jsx)("option",{value:e._id,selected:e._id===S,children:e.name},e._id)}))]})]}),Object(n.jsx)(pt,{handleSubmit:function(e){e.preventDefault(),O(!0),Ce(t.params.slug,{name:i,parent:S},r.token).then((function(e){O(!1),l(""),j.b.success("Sub category is updated"),c.push("/admin/sub")})).catch((function(e){console.log(e),O(!1),j.b.error(e.message)}))},setName:l,name:i}),Object(n.jsx)("hr",{})]})]})})},vt=c(168),yt=c(211),Nt=yt.a.Option,St=function(e){var t=e.handleSubmit,c=e.handleChange,a=e.setValues,r=e.values,s=e.handleCategoryChange,o=e.subOptions,i=e.showSub,l=r.title,u=r.description,j=r.price,b=r.categories,h=(r.category,r.subs),p=(r.shipping,r.quantity),O=(r.images,r.colors),m=r.brands;r.color,r.brand;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Title"}),Object(n.jsx)("input",{type:"text",name:"title",value:l,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("input",{type:"text",name:"description",value:u,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Price"}),Object(n.jsx)("input",{type:"text",name:"price",value:j,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Shipping"}),Object(n.jsxs)("select",{name:"shipping",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),Object(n.jsx)("option",{value:"No",children:"No"}),Object(n.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Quantity"}),Object(n.jsx)("input",{type:"number",name:"quantity",value:p,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Color"}),Object(n.jsxs)("select",{name:"color",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),O.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"brand"}),Object(n.jsxs)("select",{name:"brand",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),m.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:s,children:[Object(n.jsx)("option",{children:"Please Select"}),b.length>0&&b.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),i&&Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Sub Categories"}),Object(n.jsx)(yt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please Select",value:h,onChange:function(e){return a(Object(d.a)(Object(d.a)({},r),{},{subs:e}))},children:o.length&&o.map((function(e){return Object(n.jsx)(Nt,{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},kt=c(456),wt=c.n(kt),Ct=c(901),_t=function(e){var t=e.values,c=e.setValues,a=e.setLoading,r=Object(h.c)((function(e){return Object(d.a)({},e)})).user;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(n.jsx)(g.a,{count:"X",onClick:function(){return n=e.public_id,a(!0),void B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/removeimage"),{public_id:n},{headers:{authtoken:r?r.token:""}}).then((function(e){a(!1);var r=t.images.filter((function(e){return e.public_id!==n}));c(Object(d.a)(Object(d.a)({},t),{},{images:r}))})).catch((function(e){console.log(e),a(!1)}));var n},style:{cursor:"pointer"},children:Object(n.jsx)(Ct.a,{src:e.url,size:100,shape:"square",className:"ml-3"})},e.public_id)}))}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("label",{className:"btn btn-primary btn-raised mt-3",children:["Choose File",Object(n.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var n=e.target.files,s=t.images;if(n){a(!0);for(var o=0;o<n.length;o++)wt.a.imageFileResizer(n[o],720,720,"JPEG",100,0,(function(e){B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/uploadimages"),{image:e},{headers:{authtoken:r?r.token:""}}).then((function(e){a(!1),s.push(e.data),c(Object(d.a)(Object(d.a)({},t),{},{images:s}))})).catch((function(e){a(!1),console.log("CLOUDINARY UPLOAD ERR",e)}))}),"base64")}}})]})})]})},Et=c(921),Dt={title:"",description:"",price:"",categories:[],category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},Tt=function(){var e=Object(a.useState)(Dt),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)([]),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),b=Object(x.a)(u,2),p=b[0],O=b[1],m=Object(a.useState)(!1),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){N()}),[]);var N=function(){return me().then((function(e){return r(Object(d.a)(Object(d.a)({},c),{},{categories:e.data}))}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[g?Object(n.jsx)(Et.a,{className:"text-danger"}):Object(n.jsx)("h4",{children:"Product Create"}),Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(_t,{values:c,setValues:r,setLoading:v})}),Object(n.jsx)(St,{handleSubmit:function(e){e.preventDefault(),W(c,y.token).then((function(e){console.log(e),j.b.success("Product is created")})).catch((function(e){console.log(e),j.b.error(e.message)}))},handleChange:function(e){r(Object(d.a)(Object(d.a)({},c),{},Object(vt.a)({},e.target.name,e.target.value)))},setValues:r,values:c,handleCategoryChange:function(e){e.preventDefault(),r(Object(d.a)(Object(d.a)({},c),{},{subs:[],category:e.target.value})),ye(e.target.value).then((function(e){l(e.data)})),O(!0)},subOptions:i,showSub:p})]})]})})},Pt=ce.a.Meta,At=function(e){var t=e.product,c=e.handleRemove,a=t.title,r=t.description,s=t.images,o=t.slug;return Object(n.jsx)(ce.a,{cover:Object(n.jsx)("img",{src:s&&s.length?s[0].url:"",style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(n.jsx)(p.b,{to:"/admin/product/".concat(o),children:Object(n.jsx)(ht.a,{className:"text-warning"})}),Object(n.jsx)(ot.a,{onClick:function(){return c(o)},className:"text-danger"})],children:Object(n.jsx)(Pt,{title:a,description:"".concat(r&&r.substring(0,40),"...")})})},It=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){b()}),[]);var b=function(){l(!0),V(100).then((function(e){r(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))},p=function(e){window.confirm("Delete?")&&H(e,u.token).then((function(){b(),j.b.error("Product is deleted")})).catch((function(e){console.log(e),j.b.error(e.message)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col",children:[i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"All Products"}),Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 pb-3",children:Object(n.jsx)(At,{product:e,handleRemove:p})},e._id)}))})]})]})})},Rt=yt.a.Option,Lt=function(e){var t=e.handleSubmit,c=e.handleChange,a=(e.setValues,e.values),r=e.handleCategoryChange,s=e.categories,o=e.subOptions,i=e.arrayOfSubs,l=e.setArrayOfSubs,u=e.selectedCategory,j=a.title,d=a.description,b=a.price,h=a.category,p=(a.subs,a.shipping),O=a.quantity,m=(a.images,a.colors),x=a.brands,f=a.color,g=a.brand;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Title"}),Object(n.jsx)("input",{type:"text",name:"title",value:j,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("input",{type:"text",name:"description",value:d,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Price"}),Object(n.jsx)("input",{type:"text",name:"price",value:b,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Shipping"}),Object(n.jsxs)("select",{value:"Yes"===p?"Yes":"No",name:"shipping",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),Object(n.jsx)("option",{value:"No",children:"No"}),Object(n.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Quantity"}),Object(n.jsx)("input",{type:"number",name:"quantity",value:O,onChange:c,className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Color"}),Object(n.jsxs)("select",{value:f,name:"color",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),m.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"brand"}),Object(n.jsxs)("select",{value:g,name:"brand",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please Select"}),x.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsx)("select",{name:"category",className:"form-control",onChange:r,value:u||h._id,children:s.length>0&&s.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Sub Categories"}),Object(n.jsx)(yt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please Select",value:i,onChange:function(e){return l(e)},children:o.length&&o.map((function(e){return Object(n.jsx)(Rt,{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},Ut={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},Bt=function(e){var t=e.match,c=e.history,r=Object(h.c)((function(e){return Object(d.a)({},e)})).user,s=Object(a.useState)(Ut),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)([]),b=Object(x.a)(u,2),p=b[0],O=b[1],m=Object(a.useState)([]),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)([]),N=Object(x.a)(y,2),S=N[0],k=N[1],w=Object(a.useState)(""),C=Object(x.a)(w,2),_=C[0],E=C[1],D=Object(a.useState)(!1),T=Object(x.a)(D,2),P=T[0],A=T[1],I=t.params.slug;Object(a.useEffect)((function(){R(),L()}),[]);var R=function(){M(I).then((function(e){l(Object(d.a)(Object(d.a)({},i),e.data)),ye(e.data.category._id).then((function(e){O(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),k((function(e){return t}))}))},L=function(){return me().then((function(e){return v(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[P?Object(n.jsx)(Et.a,{className:"text-danger"}):Object(n.jsx)("h4",{children:"Product Update"}),Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(_t,{values:i,setValues:l,setLoading:A})}),Object(n.jsx)(Lt,{handleSubmit:function(e){e.preventDefault(),A(!0),i.subs=S,i.category=_||i.category,$(I,i,r.token).then((function(e){A(!1),j.b.success("Product is updated"),c.push("/admin/products")})).catch((function(e){console.log(e),A(!1),j.b.error(e.message)}))},handleChange:function(e){l(Object(d.a)(Object(d.a)({},i),{},Object(vt.a)({},e.target.name,e.target.value)))},setValues:l,values:i,handleCategoryChange:function(e){e.preventDefault(),l(Object(d.a)(Object(d.a)({},i),{},{subs:[]})),E(e.target.value),ye(e.target.value).then((function(e){O(e.data)})),i.category._id===e.target.value&&R(),k([])},categories:g,subOptions:p,arrayOfSubs:S,setArrayOfSubs:k,selectedCategory:_})]})]})})},Ft=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://fast-eyrie-49517.herokuapp.com/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("".concat("https://fast-eyrie-49517.herokuapp.com/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/coupon"),{coupon:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),qt=c(457),zt=c.n(qt),Jt=(c(723),function(){var e=Object(a.useState)(""),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(""),b=Object(x.a)(u,2),p=b[0],O=b[1],m=Object(a.useState)(!1),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)([]),N=Object(x.a)(y,2),S=N[0],k=N[1],w=Object(h.c)((function(e){return Object(d.a)({},e)})).user;Object(a.useEffect)((function(){C()}),[]);var C=function(){return Ft().then((function(e){return k(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(lt,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[g?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Coupon"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(!0),Gt({name:c,expiry:i,discount:p},w.token).then((function(e){v(!1),C(),r(""),O(""),l(""),j.b.success('"'.concat(e.data.name,'" is created'))})).catch((function(e){return console.log("create coupon err",e)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return r(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return O(e.target.value)},value:p,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(n.jsx)("br",{}),Object(n.jsx)(zt.a,{className:"form-control",selected:new Date,value:i,onChange:function(e){return l(e)},required:!0})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h4",{children:[S.length,"Coupons"]}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Expiry"}),Object(n.jsx)("th",{scope:"col",children:"Discount"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsx)("tbody",{children:S.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(n.jsxs)("td",{children:[e.discount,"%"]}),Object(n.jsx)("td",{children:Object(n.jsx)(ot.a,{onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(v(!0),Yt(t,w.token).then((function(e){C(),v(!1),j.b.error('Coupon "'.concat(e.data.name,'" deleted'))})).catch((function(e){return console.log(e)}))));var t},className:"text-danger pointer"})})]},e._id)}))})]})]})]})})}),Qt=c(332),Wt=c(923),Vt=(c(768),c(458)),Ht=function(e){var t=e.product,c=t.price,a=t.category,r=t.subs,s=t.shipping,o=t.color,i=t.brand,l=t.quantity,u=t.sold;return Object(n.jsxs)("ul",{className:"list-group",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Price"," ",Object(n.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",c]})]}),a&&Object(n.jsxs)("li",{className:"list-group-item",children:["Category"," ",Object(n.jsx)(p.b,{to:"/category/".concat(a.slug),className:"label label-default label-pill pull-xs-right",children:a.name})]}),r&&Object(n.jsxs)("li",{className:"list-group-item",children:["Sub Categories"," ",r.map((function(e){return Object(n.jsx)(p.b,{to:"/sub/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name},e._id)}))]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["color"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Brand"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Available"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:l})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Sold"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:u})]})]})},Mt=c(900),$t=c(922),Kt=function(e){var t=e.children,c=Object(h.c)((function(e){return Object(d.a)({},e)})).user,r=Object(a.useState)(!1),s=Object(x.a)(r,2),o=s[0],i=s[1],l=Object(u.f)(),b=Object(u.g)().slug;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{onClick:function(){c&&c.token?i(!0):l.push({pathname:"/login",state:{from:"/product/".concat(b)}})},children:[Object(n.jsx)($t.a,{className:"text-danger"})," ",Object(n.jsx)("br",{})," "," ",c?"Leave Rating":"Login to Leave Rating"]}),Object(n.jsx)(Mt.a,{title:"Leave your rating",centered:!0,visible:o,onOk:function(){i(!1),j.b.success("Thanks for your review.It will apper soon")},onCancel:function(){return i(!1)},children:t})]})},Xt=Qt.a.TabPane,Zt=function(e){var t=e.product,c=e.onStarClick,r=e.star,s=Object(a.useState)("Click to add"),o=Object(x.a)(s,2),i=o[0],l=o[1],b=Object(h.c)((function(e){return Object(d.a)({},e)})),p=b.user,m=(b.cart,Object(h.b)()),f=Object(u.f)(),g=t.title,v=t.images,y=t.description,S=t._id;return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-7",children:[v&&v.length?Object(n.jsx)(Vt.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:v&&v.map((function(e){return Object(n.jsx)("img",{src:e.url},e.public_id)}))}):Object(n.jsx)(ce.a,{cover:Object(n.jsx)("img",{src:O,className:"mb-3 card-image"})}),Object(n.jsxs)(Qt.a,{type:"card",children:[Object(n.jsx)(Xt,{tab:"Description",children:y&&y},"1"),Object(n.jsx)(Xt,{tab:"More",children:"Call use on xxxx xxxx xxxx to learn more about this product"},"2")]})]}),Object(n.jsxs)("div",{className:"col-md-5",children:[Object(n.jsx)("h1",{className:"bg-info p-3",children:g}),t&&t.ratings&&t.ratings.length>0?oe(t):Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),Object(n.jsx)(ce.a,{actions:[Object(n.jsx)(ne.a,{title:i,children:Object(n.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(d.a)(Object(d.a)({},t),{},{count:1}));var c=le.a.uniqWith(e,le.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),l("Added"),m({type:"ADD_TO_CART",payload:c}),m({type:"SET_VISIBLE",payload:!0})}},children:[Object(n.jsx)(N.a,{className:"text-danger"})," ",Object(n.jsx)("br",{})," Add to cart"]})}),Object(n.jsxs)("a",{onClick:function(e){e.preventDefault(),$e(t._id,p.token).then((function(e){j.b.success("Added to wishlist"),f.push("/user/wishlist")}))},children:[Object(n.jsx)(Wt.a,{className:"text-info"})," ",Object(n.jsx)("br",{})," Add to Wishlist"]}),Object(n.jsx)(Kt,{children:Object(n.jsx)(se.a,{name:S,numberOfStars:5,rating:r,changeRating:c,isSelectable:!0,starRatedColor:"red"})})],children:Object(n.jsx)(Ht,{product:t})})]})]})})},ec=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(x.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(x.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(0),p=Object(x.a)(b,2),O=p[0],m=p[1],f=Object(h.c)((function(e){return Object(d.a)({},e)})).user,g=t.params.slug;Object(a.useEffect)((function(){v()}),[g]),Object(a.useEffect)((function(){if(s.ratings&&f){var e=s.ratings.find((function(e){return e.postedBy.toString()===f._id.toString()}));e&&m(e.star)}}),[]);var v=function(){M(g).then((function(e){o(e.data),ee(e.data._id).then((function(e){return j(e.data)}))}))};return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row pt-4",children:Object(n.jsx)(Zt,{product:s,onStarClick:function(e,t){m(e),Z(t,e,f.token).then((function(e){v()}))},star:O})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("div",{children:"Related Products"}),Object(n.jsx)("hr",{})]})}),Object(n.jsx)("div",{className:"row pb-5",children:u.length?u.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(je,{product:e})},e._id)})):Object(n.jsx)("div",{className:"text-center col",children:"No product found"})})]})},tc=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(x.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(x.a)(i,2),u=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(x.a)(d,2),h=b[0],p=b[1],O=t.params.slug;return Object(a.useEffect)((function(){p(!0),xe(O).then((function(e){o(e.data.category),j(e.data.products),p(!1)}))}),[]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:h?Object(n.jsx)("h4",{className:"text-center p-3 mt-5 display-4 jumbotron",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center p-3 mt-5 display-4 jumbotron",children:[u.length,' Products in "',s.name,'" category']})})}),Object(n.jsx)("div",{className:"row",children:u.map((function(e){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(je,{product:e})},e._id)}))})]})},cc=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(x.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(x.a)(i,2),u=l[0],j=l[1],d=Object(a.useState)(!1),b=Object(x.a)(d,2),h=b[0],p=b[1],O=t.params.slug;return Object(a.useEffect)((function(){p(!0),ke(O).then((function(e){o(e.data.sub),j(e.data.products),p(!1)}))}),[]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:h?Object(n.jsx)("h4",{className:"text-center p-3 mt-5 display-4 jumbotron",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center p-3 mt-5 display-4 jumbotron",children:[u.length,' Products in "',s.name,'" sub category']})})}),Object(n.jsx)("div",{className:"row",children:u.map((function(e){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(je,{product:e})},e._id)}))})]})},nc=c(469),ac=c(905),rc=c(903),sc=c(895),oc=c(924),ic=c(925),lc=c(926),uc=function(e){var t=e.starClick,c=e.numberOfStars;return Object(n.jsxs)("div",{children:[Object(n.jsx)(se.a,{changeRating:function(){return t(c)},numberOfStars:c,starDimension:"20px",starSpacing:"2px",starHoverColor:"red",starEmptyColor:"red"}),Object(n.jsx)("br",{})]})},jc=f.a.SubMenu,dc=(f.a.ItemGroup,function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)([0,0]),j=Object(x.a)(u,2),b=j[0],p=j[1],O=Object(a.useState)(!1),m=Object(x.a)(O,2),g=m[0],v=m[1],y=Object(a.useState)([]),N=Object(x.a)(y,2),S=N[0],k=N[1],w=Object(a.useState)([]),C=Object(x.a)(w,2),_=C[0],E=C[1],D=Object(a.useState)(""),T=Object(x.a)(D,2),P=(T[0],T[1]),A=Object(a.useState)([]),I=Object(x.a)(A,2),R=I[0],L=I[1],U=Object(a.useState)(""),B=Object(x.a)(U,2),F=(B[0],B[1]),Y=Object(a.useState)(["Apple","Samsung","Microsoft","Lenovo","ASUS"]),G=Object(x.a)(Y,2),q=G[0],z=(G[1],Object(a.useState)("")),J=Object(x.a)(z,2),Q=J[0],W=J[1],H=Object(a.useState)(["Black","Brown","Silver","White","Blue"]),M=Object(x.a)(H,2),$=M[0],K=(M[1],Object(a.useState)("")),X=Object(x.a)(K,2),Z=X[0],ee=X[1],ce=Object(a.useState)(""),ne=Object(x.a)(ce,2),ae=ne[0],re=ne[1],se=Object(h.b)(),oe=Object(h.c)((function(e){return Object(d.a)({},e)})).search.text;Object(a.useEffect)((function(){ie(),me().then((function(e){return k(e.data)})),Se().then((function(e){return L(e.data)}))}),[]);var ie=function(){V(12).then((function(e){r(e.data),l(!1)}))};Object(a.useEffect)((function(){var e=setTimeout((function(){le({query:oe}),oe||ie()}),300);return function(){return clearTimeout(e)}}),[oe]);var le=function(e){te(e).then((function(e){r(e.data)}))};Object(a.useEffect)((function(){le({price:b})}),[g]);var ue=function(e){se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),P(""),F(""),W(""),ee(""),re("");var t=Object(nc.a)(_),c=e.target.value,n=t.indexOf(c);-1===n?t.push(c):t.splice(n,1),E(t),le({category:t})},de=function(e){se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),E([]),P(e),F(""),W(""),ee(""),re(""),le({stars:e})},be=function(e){F(e),se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),E([]),P(""),W(""),ee(""),re(""),le({sub:e})},he=function(e){F(""),se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),E([]),P(""),ee(""),re(""),W(e.target.value),le({brand:e.target.value})},pe=function(e){F(""),se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),E([]),P(""),W(""),re(""),ee(e.target.value),le({color:e.target.value})},Oe=function(e){F(""),se({type:"SEARCH_QUERY",payload:{text:""}}),p([0,0]),E([]),P(""),W(""),ee(""),re(e.target.value),le({shipping:e.target.value})};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3 pt-2",children:[Object(n.jsx)("h4",{children:"Search/Filter"}),Object(n.jsx)("hr",{}),Object(n.jsxs)(f.a,{defaultOpenKeys:["1","2","3","4","5","6","7"],mode:"inline",children:[Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(oc.a,{}),"Price"]}),children:Object(n.jsx)("div",{children:Object(n.jsx)(sc.a,{className:"ml-4 mr-4",tipFormatter:function(e){return"$".concat(e)},range:!0,value:b,onChange:function(e){se({type:"SEARCH_QUERY",payload:{text:""}}),E([]),p(e),P(""),F(""),W(""),ee(""),re(""),setTimeout((function(){v(!g)}),300)},max:"44999"})})},"1"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(ic.a,{}),"Categories"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},children:S.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(ac.a,{onChange:ue,className:"pb-2 pl-4 pr-4",value:e._id,name:"category",checked:_.includes(e._id),children:e.name})},e._id)}))})},"2"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)($t.a,{}),"Rating"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},children:Object(n.jsxs)("div",{className:"pr-4 pl-4 pb-2",children:[Object(n.jsx)(uc,{starClick:de,numberOfStars:5}),Object(n.jsx)(uc,{starClick:de,numberOfStars:4}),Object(n.jsx)(uc,{starClick:de,numberOfStars:3}),Object(n.jsx)(uc,{starClick:de,numberOfStars:2}),Object(n.jsx)(uc,{starClick:de,numberOfStars:1})]})})},"3"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(lc.a,{}),"Sub Categories"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},className:"pl-4 pr-4",children:R.map((function(e){return Object(n.jsx)("div",{onClick:function(){return be(e)},className:"p-1 m-1 badge badge-secondary",style:{cursor:"pointer"},children:e.name},e._id)}))})},"4"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(lc.a,{}),"Brands"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},className:"pr-5",children:q.map((function(e){return Object(n.jsx)(rc.a,{value:e,name:e,checked:e===Q,onChange:he,className:"pb-1 pl-4 pr-4",children:e})}))})},"5"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(lc.a,{}),"Colors"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},className:"pr-5",children:$.map((function(e){return Object(n.jsx)(rc.a,{value:e,name:e,checked:e===Z,onChange:pe,className:"pb-1 pl-4 pr-4",children:e})}))})},"6"),Object(n.jsx)(jc,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(lc.a,{}),"Shipping"]}),children:Object(n.jsx)("div",{style:{marginTop:"-10px"},className:"pr-5",children:Object(n.jsxs)("div",{children:[Object(n.jsx)(ac.a,{className:"pb-2 pl-4 pr-4",onChange:Oe,value:"Yes",checked:"Yes"===ae,children:"Yes"}),Object(n.jsx)(ac.a,{className:"pb-2 pl-4 pr-4",onChange:Oe,value:"No",checked:"No"===ae,children:"No"})]})})},"7")]})]}),Object(n.jsxs)("div",{className:"col-md-9 pt-2",children:[i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{className:"text-danger",children:"Products"}),c.length<1&&Object(n.jsx)("p",{children:"No products found"}),Object(n.jsx)("div",{className:"row pb-5",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 mt-3",children:Object(n.jsx)(je,{product:e})},e._id)}))})]})]})})}),bc=c(333),hc=c(927),pc=function(e){var t=e.p,c=Object(h.b)();return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{style:{width:"100px",height:"auto"},children:t.images.length?Object(n.jsx)(bc.a,{small:t.images[0].url,large:t.images[0].url}):Object(n.jsx)(bc.a,{small:O,large:O})})}),Object(n.jsx)("td",{children:t.title}),Object(n.jsx)("td",{children:t.price}),Object(n.jsx)("td",{children:t.brand}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{onChange:function(e){var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.map((function(c,a){c._id===t._id&&(n[a].color=e.target.value)})),localStorage.setItem("cart",JSON.stringify(n)),c({type:"ADD_TO_CART",payload:n}))},name:"color",className:"form-control",children:[t.color?Object(n.jsx)("option",{children:t.color}):Object(n.jsx)("option",{children:"Select"}),["Black","Brown","Silver","White","Blue"].filter((function(e){return e!==t.color})).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)("input",{type:"number",className:"form-control",value:t.count,onChange:function(e){var n=e.target.value<1?1:e.target.value;if(n>t.quantity)j.b.error("Max available quantity: ".concat(t.quantity));else{var a=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.map((function(e,c){e._id==t._id&&(a[c].count=n)})),localStorage.setItem("cart",JSON.stringify(a)),c({type:"ADD_TO_CART",payload:a}))}}})}),Object(n.jsx)("td",{className:"text-center",children:"Yes"===t.shipping?Object(n.jsx)(Xe.a,{className:"text-success"}):Object(n.jsx)(Ze.a,{className:"text-danger"})}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)(hc.a,{onClick:function(){var e=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(c,n){c._id==t._id&&e.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(e)),c({type:"ADD_TO_CART",payload:e}))},className:"text-danger pointer"})})]})})},Oc=function(e){var t=e.history,c=Object(h.c)((function(e){return Object(d.a)({},e)})),a=c.user,r=c.cart,s=Object(h.b)();return Object(n.jsx)("div",{className:"container-fluid pt-2",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsxs)("h4",{children:["Cart /",r.length," Product"]}),r.length?Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Image"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Count"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"}),Object(n.jsx)("th",{scope:"col",children:"Remove"})]})}),r.map((function(e){return Object(n.jsx)(pc,{p:e},e._id)}))]}):Object(n.jsxs)("p",{children:["No products in cart. ",Object(n.jsx)(p.b,{to:"/shop",children:"Continue Shopping.."})]})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:"Products"}),r.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.title," x ",e.count," = $",e.price*e.count]})},t)})),Object(n.jsx)("hr",{}),"Total: ",Object(n.jsxs)("b",{children:["$",r.reduce((function(e,t){return e+t.count*t.price}),0)]}),Object(n.jsx)("hr",{}),a?Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){Ge(r,a.token).then((function(e){e.data.ok&&t.push("/checkout")})).catch((function(e){return console.log("cart save err",e)}))},className:"btn btn-sm btn-primary mt-2",disabled:!r.length,children:"Proceed to Checkout"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{onClick:function(){s({type:"COD",payload:!0}),Ge(r,a.token).then((function(e){e.data.ok&&t.push("/checkout")})).catch((function(e){return console.log("cart save err",e)}))},className:"btn btn-sm btn-warning mt-2",disabled:!r.length,children:"Pay Cash on Delivery"})]}):Object(n.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(n.jsx)(p.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})},mc=c(463),xc=c.n(mc),fc=(c(884),function(e){var t=e.history,c=Object(a.useState)([]),r=Object(x.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(0),l=Object(x.a)(i,2),u=l[0],b=l[1],p=Object(a.useState)(""),O=Object(x.a)(p,2),m=O[0],f=O[1],g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],N=v[1],S=Object(a.useState)(""),k=Object(x.a)(S,2),w=k[0],C=k[1],_=Object(a.useState)(0),E=Object(x.a)(_,2),D=E[0],T=E[1],P=Object(a.useState)(""),A=Object(x.a)(P,2),I=A[0],R=A[1],L=Object(h.b)(),U=Object(h.c)((function(e){return Object(d.a)({},e)})),B=U.user,F=U.COD,Y=Object(h.c)((function(e){return Object(d.a)({},e)}));Object(a.useEffect)((function(){qe(B.token).then((function(e){o(e.data.products),b(e.data.cartTotal)}))}),[]);var G=function(){Je(B.token,m).then((function(e){e.data.ok&&(N(!0),j.b.success("Address Saved"))}))},q=function(){Qe(B.token,w).then((function(e){e.data&&(T(e.data),L({type:"COUPON_APPLIED",payload:!0})),e.data.err&&(R(e.data.err),L({type:"COUPON_APPLIED",payload:!1}))}))};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Delivery Address"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)(xc.a,{theme:"snow",value:m,onChange:f}),Object(n.jsx)("button",{className:"btn btn-primary mt-2",onClick:G,children:"Save"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Got Coupon?"}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{onChange:function(e){C(e.target.value),R("")},value:w,type:"text",className:"form-control"}),Object(n.jsx)("button",{onClick:q,className:"btn btn-primary mt-2",children:"Apply"})]}),Object(n.jsx)("br",{}),I&&Object(n.jsx)("p",{className:"bg-danger p-2",children:I})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Products ",s.length]}),Object(n.jsx)("hr",{}),void s.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count,"="," ",e.product.price*e.count]})},t)})),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Cart Total: ",u]}),D>0&&Object(n.jsxs)("p",{className:"bg-success p-2",children:["Discount Applied: Total Payable: $",D]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:F?Object(n.jsx)("button",{className:"btn btn-primary",disabled:!y||!s.length,onClick:function(){Ke(B.token,F,Y).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),L({type:"ADD_TO_CART",payload:[]}),L({type:"COUPON_APPLIED",payload:!1}),L({type:"COD",payload:!1}),ze(B.token),setTimeout((function(){t.push("/user/history")}),1e3))}))},children:"Place Order"}):Object(n.jsx)("button",{className:"btn btn-primary",disabled:!y||!s.length,onClick:function(){return t.push("/payment")},children:"Place Order"})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("button",{onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),L({type:"ADD_TO_CART",payload:[]}),ze(B.token).then((function(e){o([]),b(0),T(0),C(""),j.b.success("Cart is empty. Continue shopping")}))},disabled:!s.length,className:"btn btn-primary",children:"Empty Cart"})})]})]})]})}),gc=c(464),vc=c(159),yc=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post("".concat("https://fast-eyrie-49517.herokuapp.com/api","/create-payment-intent"),{couponApplied:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Nc=c(928),Sc=function(e){e.history;var t=Object(h.b)(),c=Object(h.c)((function(e){return Object(d.a)({},e)})),r=c.user,s=c.coupon,o=Object(a.useState)(!1),u=Object(x.a)(o,2),j=u[0],b=u[1],m=Object(a.useState)(null),f=Object(x.a)(m,2),g=f[0],v=f[1],y=Object(a.useState)(""),N=Object(x.a)(y,2),S=N[0],k=N[1],w=Object(a.useState)(!0),C=Object(x.a)(w,2),_=C[0],E=C[1],D=Object(a.useState)(""),T=Object(x.a)(D,2),P=T[0],A=T[1],I=Object(a.useState)(0),R=Object(x.a)(I,2),L=R[0],U=R[1],B=Object(a.useState)(0),F=Object(x.a)(B,2),Y=F[0],G=F[1],q=Object(a.useState)(0),z=Object(x.a)(q,2),J=z[0],Q=z[1],W=Object(vc.useStripe)(),V=Object(vc.useElements)();Object(a.useEffect)((function(){yc(r.token,s).then((function(e){A(e.data.clientSecret),U(e.data.cartTotal),G(e.data.totalAfterDiscount),Q(e.data.payable)}))}),[]);var H=function(){var e=Object(l.a)(i.a.mark((function e(c){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),k(!0),e.next=4,W.confirmCardPayment(P,{payment_method:{card:V.getElement(vc.CardElement),billing_details:{name:c.target.name.value}}});case 4:(n=e.sent).error?(v("Payment failed ".concat(n.error.message)),k(!1)):(We(n,r.token).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),t({type:"ADD_TO_CART",payload:[]}),t({type:"COUPON_FAILED",payload:!1}),ze(r.token))})),v(null),k(!1),b(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[!j&&Object(n.jsx)("div",{children:s&&void 0!==Y?Object(n.jsx)("p",{className:"alert alert-success",children:"Total after discount: $".concat(Y)}):Object(n.jsx)("p",{className:"alert alert-danger",children:"No coupon applied"})}),Object(n.jsx)("div",{className:"text-center pb-5",children:Object(n.jsx)(ce.a,{cover:Object(n.jsx)("img",{src:O,style:{height:"200px",objectFit:"cover",marginBottom:"-50px"}}),actions:[Object(n.jsxs)("div",{children:[Object(n.jsx)(oc.a,{className:"text-info"}),Object(n.jsx)("br",{}),"Total: $",L]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Nc.a,{className:"text-info"}),Object(n.jsx)("br",{}),"Total payable: $",(J/100).toFixed(2)]})]})}),Object(n.jsxs)("form",{id:"payment-form",className:"stripe-form",onSubmit:H,children:[Object(n.jsx)(vc.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:function(e){E(e.empty),v(e.error?e.error.message:"")}}),Object(n.jsx)("button",{className:"stripe-button",disabled:S||_||j,children:Object(n.jsx)("span",{id:"button-text",children:S?Object(n.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),Object(n.jsx)("br",{}),g&&Object(n.jsx)("div",{className:"card-error",role:"alert",children:g}),Object(n.jsx)("br",{}),Object(n.jsxs)("p",{className:j?"result-message":"result-message hidden",children:["Payment Successful.",Object(n.jsx)(p.b,{to:"/user/history",children:"See it in your purchase history"})]})]})]})},kc=(c(885),Object(gc.a)("pk_test_51I44QjGgga2GK8PR1QFsEOggpWTjpv7U0GW7oolfkoOsIJ9Xw5NP9nwQfNAGNZermOJzQBBQcd4rhxozWzQS9BMJ00NYDbu3M4")),wc=function(){return Object(n.jsxs)("div",{className:"container p-5 text-center",children:[Object(n.jsx)("h4",{children:"Complete Your Purchases"}),Object(n.jsx)(vc.Elements,{stripe:kc,children:Object(n.jsx)("div",{className:"col-md-8 offset-md-2",children:Object(n.jsx)(Sc,{})})})]})},Cc=function(){var e=Object(h.b)();return Object(a.useEffect)((function(){var t=Te.onAuthStateChanged(function(){var t=Object(l.a)(i.a.mark((function t(c){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=5;break}return t.next=3,c.getIdTokenResult();case 3:n=t.sent,Y(n.token).then((function(t){e({type:"LOGGED_IN_USER",payload:{name:t.data.name,email:t.data.email,token:n.token,role:t.data.role,_id:t.data._id}})})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[e]),Object(n.jsxs)("div",{children:[Object(n.jsx)(A,{}),Object(n.jsx)(m,{}),Object(n.jsx)(j.a,{}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:De}),Object(n.jsx)(u.a,{exact:!0,path:"/login",component:Le}),Object(n.jsx)(u.a,{exact:!0,path:"/register",component:Ue}),Object(n.jsx)(u.a,{exact:!0,path:"/register/complete",component:Be}),Object(n.jsx)(u.a,{exact:!0,path:"/forgot/password",component:Fe}),Object(n.jsx)(u.a,{exact:!0,path:"/product/:slug",component:ec}),Object(n.jsx)(u.a,{exact:!0,path:"/category/:slug",component:tc}),Object(n.jsx)(u.a,{exact:!0,path:"/sub/:slug",component:cc}),Object(n.jsx)(u.a,{exact:!0,path:"/shop",component:dc}),Object(n.jsx)(u.a,{exact:!0,path:"/cart",component:Oc}),Object(n.jsx)(L,{exact:!0,path:"/user/history",component:rt}),Object(n.jsx)(L,{exact:!0,path:"/user/password",component:st}),Object(n.jsx)(L,{exact:!0,path:"/user/wishlist",component:it}),Object(n.jsx)(L,{exact:!0,path:"/checkout",component:fc}),Object(n.jsx)(L,{exact:!0,path:"/payment",component:wc}),Object(n.jsx)(q,{exact:!0,path:"/admin/dashboard",component:bt}),Object(n.jsx)(q,{exact:!0,path:"/admin/category",component:mt}),Object(n.jsx)(q,{exact:!0,path:"/admin/category/:slug",component:xt}),Object(n.jsx)(q,{exact:!0,path:"/admin/sub",component:ft}),Object(n.jsx)(q,{exact:!0,path:"/admin/sub/:slug",component:gt}),Object(n.jsx)(q,{exact:!0,path:"/admin/product",component:Tt}),Object(n.jsx)(q,{exact:!0,path:"/admin/products",component:It}),Object(n.jsx)(q,{exact:!0,path:"/admin/product/:slug",component:Bt}),Object(n.jsx)(q,{exact:!0,path:"/admin/coupon",component:Jt})]})]})},_c=(c(886),c(148)),Ec=c(465),Dc=[];"undefined"!==typeof window&&(Dc=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]);var Tc=Object(_c.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":case"LOGOUT":return t.payload;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_QUERY":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return t.payload;default:return e}},drawer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBLE":return t.payload;default:return e}},coupon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUPON_APPLIED":return t.payload;default:return e}},COD:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COD":return t.payload;default:return e}}}),Pc=Object(_c.createStore)(Tc,Object(Ec.composeWithDevTools)());s.a.render(Object(n.jsx)(h.a,{store:Pc,children:Object(n.jsx)(p.a,{children:Object(n.jsx)(Cc,{})})}),document.getElementById("root"))}},[[887,1,2]]]);
//# sourceMappingURL=main.2fe88b8b.chunk.js.map